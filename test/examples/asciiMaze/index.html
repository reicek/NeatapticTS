<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>ASCII Maze Demo</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    html,body,#root{height:100%;margin:0}
    body{font-family:system-ui,Segoe UI,Arial,sans-serif;padding:0;background:#0b0f14;color:#cfe8ff;display:flex;flex-direction:column}
    main{flex:1;display:flex;flex-direction:column;padding:12px}
    #ascii-maze-output{flex:1;overflow:auto;background:#041018;padding:12px;border-radius:6px;box-sizing:border-box}
    #ascii-maze-controls{margin:8px 0}
    button{padding:6px 10px;border-radius:4px;border:1px solid #2C3963;color:#fff;background:#39632C}
  </style>
</head>
<body>
  <header style="padding:12px 16px">
    <h1 style="margin:0;font-size:18px">ASCII Maze Demo</h1>
  </header>
  <main id="root">
  <!-- Internal pause control removed; external host can supply controls using the public API -->
    <div id="ascii-maze-output">
      <div id="ascii-maze-live" style="flex:1;min-height:200px"></div>
      <div id="ascii-maze-archive" style="margin-top:12px"></div>
    </div>
  <div id="ascii-maze-status" aria-live="polite" style="margin-top:8px;color:#f88"></div>
  <!-- Deterministic script path (test environment -> docs assets) -->
  <script
    src="../../../docs/assets/ascii-maze.bundle.js"
    data-ascii-maze-root="../../../docs/assets/"
    defer
    onload="(window.asciiMazeStart ? window.asciiMazeStart('ascii-maze-output') : (window.asciiMaze && window.asciiMaze.start && window.asciiMaze.start()))"
    onerror="document.getElementById('ascii-maze-status').textContent='Failed to load ascii-maze.bundle.js';"
  ></script>
  <script>
    // Minimal fallback status if start not invoked automatically (e.g., API change)
    window.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        try {
          if (!(window.asciiMazeStart || (window.asciiMaze && window.asciiMaze.start))) {
            const s = document.getElementById('ascii-maze-status');
            if (s) s.textContent = 'Bundle loaded but start API not found.';
          }
        } catch {}
      }, 1000);
    });
  </script>
</body>
</html>
